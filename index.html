<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>darkrelay.net</title>
  <meta name="description" content="Dark Relay — signal established." />
  <style>
    :root{
      --bg:#0b0d10;
      --fg:#e6e8ee;
      --muted:#b9c0d0;
      --line:#222a36;
      --glow: rgba(154, 209, 255, 0.18);
    }
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
      background: radial-gradient(1200px 800px at 40% 20%, rgba(60,90,140,0.18), transparent 60%),
                  radial-gradient(900px 700px at 70% 80%, rgba(120,80,160,0.14), transparent 55%),
                  var(--bg);
      color:var(--fg);
    }
    .card{
      width:min(760px, calc(100% - 32px));
      padding:34px 30px;
      border:1px solid var(--line);
      border-radius:18px;
      background:rgba(255,255,255,0.02);
      box-shadow: 0 12px 50px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.02) inset;
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(600px 220px at 30% 0%, var(--glow), transparent 60%);
      pointer-events:none;
    }
    h1{
      margin:0 0 10px;
      font-size:30px;
      letter-spacing:0.6px;
    }
    .statusline{
      display:flex;
      gap:10px;
      align-items:baseline;
      flex-wrap:wrap;
      margin-top:8px;
    }
    .label{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color:var(--muted);
      font-size:13px;
      letter-spacing:0.2px;
      opacity:0.9;
    }
    #status{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:16px;
      color:var(--fg);
    }
    .cursor{
      display:inline-block;
      width:10px;
      margin-left:2px;
      opacity:0.9;
      animation: blink 1s steps(2, end) infinite;
    }
    @keyframes blink { 50% { opacity:0; } }
    .links{
      display:flex; flex-wrap:wrap; gap:10px;
      margin-top:18px;
    }
    a.pill, .pill{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:13px;
      padding:8px 12px;
      border:1px solid #2a3140;
      border-radius:999px;
      color:#9ad1ff;
      text-decoration:none;
      background:rgba(255,255,255,0.015);
    }
    a.pill:hover{ text-decoration:underline; }
    .pill.static{ color:var(--muted); }
  </style>
</head>
<body>
  <main class="card">
    <h1>darkrelay.net</h1>

    <div class="statusline">
      <span class="label">status:</span>
      <span id="status">initializing…</span><span class="cursor">▌</span>
    </div>

    <div class="links">
      <span class="pill static">node: darkrelay</span>
      <a class="pill" href="https://github.com/Crazy8697/darkrelay-site" rel="noopener">source</a>
      <!-- later: <a class="pill" href="https://sentinel.darkrelay.net" rel="noopener">sentinel</a> -->
    </div>
  </main>

  <script>
    // --- CONFIG ---
    const MODE = "random";     // "random" or "cycle"
    const HOLD_MS = 2400;      // time each message stays fully visible
    const TYPE_MS = 14;        // typing speed (lower = faster)
    const ERASE_MS = 8;        // erase speed
    const JITTER_MS = 350;     // random +/- hold jitter
    // ---------------

    const messages = [
      "signal established.",
      "relay active.",
      "node online.",
      "routing packets through the void.",
      "awaiting instructions.",
      "sensors nominal.",
      "entropy contained (for now).",
      "handshake complete.",
      "uplink stable.",
      "downlink stable.",
      "latency acceptable.",
      "no gods. no masters. no google.",
      "infrastructure in motion.",
      "quietly refusing telemetry.",
      "privacy budget: intact.",
      "cache warm.",
      "cdn engaged.",
      "ssl sealed.",
      "dns authoritative.",
      "systems green.",
      "nothing to see here.",
      "do not poke the firewall.",
      "operational. mildly ominous.",
      "this page is a decoy. (mostly.)",
      "hello, traveler.",
      "maintaining plausible deniability.",
      "conducting harmless experiments.",
      "the lights blink in patterns.",
      "if you can read this, the relay worked.",
      "all channels monitored. none logged.",
      "safety interlocks enabled.",
      "power is cheap; attention is expensive.",
      "trust no vendor.",
      "compiling intent.",
      "standing by."
    ];

    const el = document.getElementById("status");

    // deterministic cycle index
    let idx = Math.floor(Math.random() * messages.length);
    let last = "";

    function pickNext() {
      if (MODE === "cycle") {
        idx = (idx + 1) % messages.length;
        return messages[idx];
      }
      // random, but avoid immediate repeat
      let next = last;
      while (next === last) next = messages[Math.floor(Math.random() * messages.length)];
      return next;
    }

    function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

    async function typeText(text) {
      el.textContent = "";
      for (let i = 0; i < text.length; i++) {
        el.textContent += text[i];
        await sleep(TYPE_MS);
      }
    }

    async function eraseText() {
      const t = el.textContent;
      for (let i = t.length; i >= 0; i--) {
        el.textContent = t.slice(0, i);
        await sleep(ERASE_MS);
      }
    }

    async function loop() {
      while (true) {
        const msg = pickNext();
        last = msg;
        await typeText(msg);
        const jitter = (Math.random() * 2 - 1) * JITTER_MS;
        await sleep(Math.max(400, HOLD_MS + jitter));
        await eraseText();
        await sleep(120);
      }
    }

    loop();
  </script>
</body>
</html>
